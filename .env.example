# Analytics Infrastructure Environment Configuration
# Copy this file to .env and update the values

# ===========================================
# Database Configuration
# ===========================================

# Main Database (Authoritative data store)
MAIN_DB_USER=analytics_user
MAIN_DB_PASS=your_secure_main_password_here
MAIN_DB_NAME=analytics_db
MAIN_DB_HOST=postgres_main

# Holding Database (Temporary data storage)
HOLDING_DB_USER=holding_user
HOLDING_DB_PASS=your_secure_holding_password_here
HOLDING_DB_NAME=holding_db
HOLDING_DB_HOST=holding_db

# Dead Letter Queue Database (Failed validations)
DLQ_DB_USER=dlq_user
DLQ_DB_PASS=your_secure_dlq_password_here
DLQ_DB_NAME=dead_letter_queue
DLQ_DB_HOST=dead_letter_queue

# ===========================================
# Application Services
# ===========================================

# API Key for data ingestion (use a strong, random key)
API_KEY=your_secure_api_key_here

# Data Validation Interval (seconds)
VALIDATION_INTERVAL=30

# ===========================================
# Monitoring & Visualization
# ===========================================

# Grafana Monitoring Dashboard Password
GRAFANA_PASSWORD=your_secure_grafana_password_here

# Grafana Logs Dashboard Password
GRAFANA_LOGS_PASSWORD=your_secure_grafana_logs_password_here

# Metabase Configuration
METABASE_APP_DB_NAME=metabase

# ===========================================
# Dokploy Production Configuration
# ===========================================

# Dokploy API Configuration (for automated deployments)
DOKPLOY_API_KEY=your_dokploy_api_key_here
DOKPLOY_APP_ID=your_dokploy_application_id_here
DOKPLOY_DOMAIN=your-dokploy-domain.com

# ===========================================
# Optional Configuration
# ===========================================

# Dead Letter Queue Size Limit
DEAD_LETTER_QUEUE_SIZE=1000

# Restore behavior on start (true/false)
RESTORE_METABASE_ON_START=true

# ===========================================
# Security Notes
# ===========================================
# 
# 1. Use strong, unique passwords for all databases
# 2. Generate a secure API key (32+ characters)
# 3. Change default Grafana passwords
# 4. Never commit this file to version control
# 5. Consider using a secrets management system in production
# 6. For Dokploy: Set environment variables in the application settings
#
# Example secure password generation:
# openssl rand -base64 32
#
# Example secure API key generation:
# openssl rand -hex 32
#
# ===========================================
# Production Deployment Checklist
# ===========================================
#
# Before deploying to production:
# 1. Update all passwords to strong, unique values
# 2. Generate a secure API key
# 3. Configure Dokploy environment variables
# 4. Set up proper domain names
# 5. Enable SSL/TLS certificates
# 6. Configure backup strategies
# 7. Set up monitoring alerts
# 8. Test all service health checks

# Docker Hub Configuration
DOCKERHUB_USERNAME=your_dockerhub_username
