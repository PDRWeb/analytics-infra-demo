# Production Environment Configuration for Dokploy
# Copy this file to .env and update with your production values

# ===========================================
# Docker / Images
# ===========================================

DOCKERHUB_USERNAME=your_dockerhub_username

# ===========================================
# Database Configuration
# ===========================================

# Main Database (Authoritative data store)
MAIN_DB_USER=analytics_user
MAIN_DB_PASS=your_secure_production_password_here
MAIN_DB_NAME=analytics_db
MAIN_DB_HOST=postgres_main

# Holding Database (Temporary data storage)
HOLDING_DB_USER=holding_user
HOLDING_DB_PASS=your_secure_production_password_here
HOLDING_DB_NAME=holding_db
HOLDING_DB_HOST=holding_db

# Dead Letter Queue Database (Failed validations)
DLQ_DB_USER=dlq_user
DLQ_DB_PASS=your_secure_dlq_password_here
DLQ_DB_NAME=dead_letter_queue
DLQ_DB_HOST=dead_letter_queue

# ===========================================
# Application Services
# ===========================================

# API Key for data ingestion (use a strong, random key)
API_KEY=your_secure_api_key_here

# Data Validation Interval (seconds)
VALIDATION_INTERVAL=30

# ===========================================
# Monitoring
# ===========================================

# Grafana Monitoring Dashboard Password
GRAFANA_PASSWORD=your_secure_grafana_password_here

# Grafana Logs Dashboard Password
GRAFANA_LOGS_PASSWORD=your_secure_grafana_logs_password_here

# ===========================================
# Metabase application configuration (see docs for full list)
# https://www.metabase.com/docs/latest/configuring-metabase/environment-variables#list-of-environment-variables
# ===========================================

METABASE_APP_DB_NAME=metabase
METABASE_ADMIN_EMAIL=your_email@email.com
MB_SITE_NAME="My Analytics"
MB_LOAD_SAMPLE_CONTENT=false
MB_LOAD_ANALYTICS_CONTENT=true
MB_PASSWORD_COMPLEXITY=normal
MB_PASSWORD_LENGTH=12
MB_JETTY_REQUEST_HEADER_SIZE=16384
MB_EMOJI_IN_LOGS=true
MB_ANON_TRACKING_ENABLED=false
MB_SEND_NEW_SSO_USER_ADMIN_EMAIL=false

# Email (SMTP) for invites, alerts, password resets (optional)
MB_EMAIL_SMTP_HOST=
MB_EMAIL_SMTP_PORT=587
MB_EMAIL_SMTP_USERNAME=
MB_EMAIL_SMTP_PASSWORD=
MB_EMAIL_SMTP_SECURITY=starttls
MB_EMAIL_FROM_ADDRESS=

# ===========================================
# Dokploy Production Configuration
# ===========================================

# Dokploy API Configuration (for automated deployments)
DOKPLOY_API_KEY=your_dokploy_api_key_here
DOKPLOY_APP_ID=your_dokploy_application_id_here
DOKPLOY_DOMAIN=your-dokploy-domain.com

# ===========================================
# Production URLs (update with your actual domains)
# ===========================================

# Application Services
API_RECEIVER_URL=https://api.yourdomain.com
DATA_VALIDATOR_URL=https://validator.yourdomain.com
HEALTH_MONITOR_URL=https://health.yourdomain.com

# Visualization & Monitoring
METABASE_URL=https://analytics.yourdomain.com
GRAFANA_URL=https://monitoring.yourdomain.com
GRAFANA_LOGS_URL=https://logs.yourdomain.com
PROMETHEUS_URL=https://metrics.yourdomain.com


